/*  Fuse JavaScript framework, version Alpha
 *  (c) 2008-2010 John-David Dalton
 *
 *  FuseJS is freely distributable under the terms of an MIT-style license.
 *  For details, see the FuseJS web site: http://www.fusejs.com/
 *
 *--------------------------------------------------------------------------*/
 
(function(n){var t,$={"boolean":1,number:1,string:1,undefined:1},x=[],B="_fbx"+String(+new Date).slice(-6),L=function(c,l){var i=typeof c[l];return i==="object"?!!c[l]:!$[i]},u=function(){var c,l=n.document;list=[];backup=list.__proto__;if(L(n,"ActiveXObject")&&n.location&&n.location.protocol!=="file:")try{return c=new ActiveXObject("htmlfile")&&1}catch(i){}if([].__proto__===Array.prototype&&{}.__proto__===Object.prototype){list.__proto__={};c=typeof list.push==="undefined";list.__proto__=backup;if(c&&typeof list.push==="function")return 2}if(L(n,"frames")&&l&&L(l,"createElement"))return 3}(),M=function(){if(u===2)return function(){return n};var c=0,l=n.document;if(u===1)return function(){var i=new ActiveXObject("htmlfile");i.open();i.write("<script>document.global = this;<\/script>");i.close();x.push(i);return i.global};if(u===3)return function(){var i,k,d=l.body||l.documentElement,p="sb_"+B+c++;try{k=l.createElement('<iframe name="'+p+'">')}catch(q){(k=l.createElement("iframe")).name=p}k.style.display="none";d.insertBefore(k,d.firstChild);try{(i=n.frames[p].document).open();i.write("<script>parent.Fusebox."+B+" = this;<\/script>");i.close()}catch(j){throw new Error("Fusebox failed to create a sandbox by iframe.");}i=n.Fusebox[B];delete n.Fusebox[B];x.push(k);return i};return function(){throw new Error("Fusebox failed to create a sandbox.");}}(),Z=function(){var c,l,i,k,d,p,q,j,P=n.Array.prototype.slice,aa=n.Function,r=new Q,ba=/^\s*(['"])use strict\1/;k=M();var N=n.Object.prototype.toString,s=k.Array,C=k.Boolean,o=k.Date,y=k.Function,z=k.Number,H=k.Object,D=k.RegExp,v=k.String;if(u===2){c=function(a){var b;b=arguments;var f=b.length;b=f?f===1&&a>-1?new s(a):c.fromArray(b):new s;b.__proto__=h;return b};l=function(a){a=new C(a);a.__proto__=R;return a};i=function(a,b,f,m,A,E,F){var I;if(this.constructor===i){I=arguments.length===1?new o(a):new o(a,b,f||1,m||0,A||0,E||0,F||0);I.__proto__=e}else I=j(new o);return I};k=function(a,b){var f=arguments;f=f.length<3?y(a,b):y.apply(y,f);f.__proto__=S;return f};d=function(a){a=new z(a);a.__proto__=w;return a};p=function(a){if(a!=null){switch(N.call(a)){case"[object Boolean]":return l(a);case"[object Number]":return d(a);case"[object String]":return j(a);case"[object Array]":if(a.constructor!==c)return c.fromArray(a)}return a}a=new H;a.__proto__=T;return a};q=function(a,b){a=new D(a,b);a.__proto__=J;return a};j=function(a){var b=new v(arguments.length?a:"");b.__proto__=g;return b};p.prototype.__proto__=H.prototype;(c.prototype=[]).__proto__=s.prototype;(l.prototype=new C).__proto__=C.prototype;(i.prototype=new o).__proto__=o.prototype;(k.prototype=new y).__proto__=y.prototype;(d.prototype=new z).__proto__=z.prototype;(q.prototype=new D).__proto__=D.prototype;(j.prototype=new v).__proto__=v.prototype}else{c=function(a){var b=arguments,f=b.length;if(f)return f===1&&a>-1?new s(a):c.fromArray(b);return new s};l=function(a){return new C(a)};i=function(a,b,f,m,A,E,F){if(this.constructor===i)return arguments.length===1?new o(a):new o(a,b,f||1,m||0,A||0,E||0,F||0);return j(new o)};k=function(a,b){function f(){return A}var m;m=P.call(arguments,0);var A=b=m.pop();a=m.join(",");if(b&&b.search(ba)<0)b="arguments.callee = arguments.callee."+B+"; "+b;m=new aa(a,b);m=m[B]=(new y("global, fn","var sandbox = this; return function() { return fn.apply(this == sandbox ? global : this, arguments) }"))(n,m);m.toString=f;return m};d=function(a){return new z(a)};p=function(a){if(a!=null){switch(N.call(a)){case"[object Boolean]":return l(a);case"[object Number]":return d(a);case"[object String]":return j(a);case"[object Array]":if(a.constructor!==c)return c.fromArray(a)}return a}return new H};q=function(a,b){return new D(a,b)};j=function(a){return new v(arguments.length?a:"")};c.prototype=s.prototype;l.prototype=C.prototype;i.prototype=o.prototype;k.prototype=y.prototype;d.prototype=z.prototype;p.prototype=H.prototype;q.prototype=D.prototype;j.prototype=v.prototype}var h=c.plugin=c.prototype,R=l.plugin=l.prototype,e=i.plugin=i.prototype,S=k.plugin=k.prototype,T=p.plugin=p.prototype,w=d.plugin=d.prototype,J=q.plugin=q.prototype,g=j.plugin=j.prototype,U=h.concat,ca=h.every,da=h.filter,ea=h.join,fa=h.indexOf,ga=h.lastIndexOf,ha=h.map,V=h.push,ia=h.reverse,ja=h.slice,ka=h.splice,la=h.some,W=h.sort,X=h.unshift,ma=e.getDate,na=e.getDay,oa=e.getFullYear,pa=e.getHours,qa=e.getMilliseconds,ra=e.getMinutes,sa=e.getMonth,ta=e.getSeconds,ua=e.getTime,va=e.getTimezoneOffset,wa=e.getUTCDate,xa=e.getUTCDay,ya=e.getUTCFullYear,za=e.getUTCHours,Aa=e.getUTCMilliseconds,Ba=e.getUTCMinutes,Ca=e.getUTCMonth,Da=e.getUTCSeconds,Ea=e.getYear,Fa=e.toISOString,Ga=e.toJSON,Ha=w.toExponential,Ia=w.toFixed,Ja=w.toPrecision,Ka=J.exec,La=g.charAt,Ma=g.charCodeAt,Y=g.concat,Na=g.indexOf,Oa=g.lastIndexOf,Pa=g.match,Qa=g.replace,Ra=g.search,Sa=g.slice,Ta=g.split,Ua=g.substr,Va=g.substring,Wa=g.toLowerCase,Xa=g.toLocaleLowerCase,Ya=g.toLocaleUpperCase,Za=g.toUpperCase,$a=g.trim;d.MAX_VALUE=1.7976931348623157E308;d.MIN_VALUE=4.9E-324;d.NaN=+"x";d.NEGATIVE_INFINITY=z.NEGATIVE_INFINITY;d.POSITIVE_INFINITY=z.POSITIVE_INFINITY;c.fromArray=function(){var a=function(f){var m=new s;m.push.apply(m,f);return m};if(u===2)a=function(f){f=P.call(f,0);f.__proto__=h;return f};else if(t){var b=s.prototype.slice;a=function(f){return b.call(f,0)}}return a}();c.create=function(){return c.fromArray(arguments)};if(!(c.isArray=s.isArray))c.isArray=function(a){return N.call(a)==="[object Array]"};i.now=function(){var a=function(){return d(+new i)};if(o.now)a=function(){return d(o.now())};return a}();i.parse=function(a){return d(o.parse(a))};i.UTC=function(a,b,f,m,A,E,F){return d(o.UTC(a,b,f||1,m||0,A||0,E||0,F||0))};j.fromCharCode=function(a){return j(arguments.length>1?v.fromCharCode.apply(v,arguments):v.fromCharCode(a))};if(!t)h.concat=function(){var a=arguments;return c.fromArray(a.length?U.apply(this,a):U.call(this))};if(h.every)h.every=function(a,b){return ca.call(this,a||K,b)};if(h.filter)h.filter=function(a,b){a=da.call(this,a||function(f){return f!=null},b);return a.length?c.fromArray(a):c()};h.join=function(a){return j(ea.call(this,a))};if(h.indexOf)h.indexOf=function(a,b){return d(fa.call(this,a,b==null?0:b))};if(h.lastIndexOf)h.lastIndexOf=function(a,b){return d(ga.call(this,a,b==null?this.length:b))};if(h.map&&!t)h.map=function(a,b){a=ha.call(this,a||K,b);return a.length?c.fromArray(a):c()};h.push=function(a){var b=arguments;return d(b.length>1?V.apply(this,b):V.call(this,a))};if(!t)h.reverse=function(){return this.length>0?c.fromArray(ia.call(this)):c()};if(!t)h.slice=function(a,b){a=ja.call(this,a,b==null?this.length:b);return a.length?c.fromArray(a):c()};if(h.some)h.some=function(a,b){return la.call(this,a||K,b)};if(!t)h.sort=function(a){return this.length>0?c.fromArray(a?W.call(this,a):W.call(this)):c()};if(!t)h.splice=function(){var a=ka.apply(this,arguments);return a.length?c.fromArray(a):c()};h.unshift=function(a){var b=arguments;return d(b.length>1?X.apply(this,b):X.call(this,a))};e.getDate=function(){return d(ma.call(this))};e.getDay=function(){return d(na.call(this))};e.getFullYear=function(){return d(oa.call(this))};e.getHours=function(){return d(pa.call(this))};e.getMilliseconds=function(){return d(qa.call(this))};e.getMinutes=function(){return d(ra.call(this))};e.getMonth=function(){return d(sa.call(this))};e.getSeconds=function(){return d(ta.call(this))};e.getTime=function(){return d(ua.call(this))};e.getTimezoneOffset=function(){return d(va.call(this))};e.getUTCDate=function(){return d(wa.call(this))};e.getUTCDay=function(){return d(xa.call(this))};e.getUTCFullYear=function(){return d(ya.call(this))};e.getUTCHours=function(){return d(za.call(this))};e.getUTCMilliseconds=function(){return d(Aa.call(this))};e.getUTCMinutes=function(){return d(Ba.call(this))};e.getUTCMonth=function(){return d(Ca.call(this))};e.getUTCSeconds=function(){return d(Da.call(this))};e.getYear=function(){return d(Ea.call(this))};if(e.toISOString)e.toISOString=function(){return j(Fa.call(this))};if(e.toJSON)e.toJSON=function(){return j(Ga.call(this))};w.toExponential=function(){return d(Ha.call(this))};w.toFixed=function(){return d(Ia.call(this))};w.toPrecision=function(){return d(Ja.call(this))};J.exec=function(a){var b,f=Ka.call(this,a);if(f){a=f.length;for(b=c();a--;)b[a]=j(f[a])}return f&&b};g.charAt=function(a){return j(La.call(this,a))};g.charCodeAt=function(a){return d(Ma.call(this,a))};g.concat=function(a){var b=arguments;return j(b.length>1?Y.apply(this,b):Y.call(this,a))};g.indexOf=function(a,b){return d(Na.call(this,a,b==null?0:b))};g.lastIndexOf=function(a,b){return d(Oa.call(this,a,b==null?this.length:b))};g.localeCompare=function(a){return d(__localeCompate.call(this,a))};g.match=function(a){var b,f=Pa.call(this,a);if(f){a=f.length;for(b=c();a--;)b[a]=j(f[a])}return f&&b};g.replace=function(a,b){return j(Qa.call(this,a,b))};g.search=function(a){return d(Ra.call(a))};g.slice=function(a,b){return j(Sa.call(this,a,b==null?this.length:b))};g.split=function(a,b){a=Ta.call(this,a,b);b=a.length;for(var f=c();b--;)f[b]=j(a[b]);return f};g.substr=function(a,b){return j(Ua.call(a,b==null?this.length:b))};g.substring=function(a,b){return j(Va.call(this,a,b==null?this.length:b))};g.toLowerCase=function(){return j(Wa.call(this))};g.toLocaleLowerCase=function(){return j(Xa.call(this))};g.toLocaleUpperCase=function(){return j(Ya.call(this))};g.toUpperCase=function(){return j(Za.call(this))};if(g.trim)g.trim=function(){return j($a.call(this))};h.constructor=c;R.constructor=l;e.constructor=i;S.constructor=k;T.constructor=p;w.constructor=d;J.constructor=q;g.constructor=j;r.Array=c;r.Boolean=l;r.Date=i;r.Function=k;r.Number=d;r.Object=p;r.RegExp=q;r.String=j;return r},G=function(c){var l=x[x.length-1];l.parentNode.removeChild(l);return c},Q=function(){},O=function(){return Z()};n.Fusebox={};if(u===3)O=function(){return G(Z())};u!=2&&function(){var c;c=M();c=c.Array;t=!(c().slice(0)instanceof n.Array);if(u===3){G();if(c.prototype.map){M();G();try{c().map(K)}catch(l){G=function(i){return function(k){k.Array.prototype.map=k.String.prototype.lastIndexOf=null;return i(k)}}(G)}}for(c=n.document.createElement("div");x.length;){c.appendChild(x.pop());c.innerHTML=""}}x=[];c=c=null}();Q.prototype=O.prototype;n.Fusebox=O})(this);